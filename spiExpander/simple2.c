#include <unistd.h>
#include <stdio.h>
#include <ctype.h>
#include <stdlib.h>
#include "interface.h"
#include <sys/ioctl.h>
#include <linux/spi/spidev.h>



int main(int argc, char *argv[]) {
char buf[435];

buf[0]=0x20;
buf[1]=0x02;
buf[2]=0x00;
buf[3]=0x20;
buf[4]=0x02;
buf[5]=0x00;
buf[6]=0x20;
buf[7]=0x02;
buf[8]=0x00;
buf[9]=0x20;
buf[10]=0x02;
buf[11]=0x00;
buf[12]=0x20;
buf[13]=0x02;
buf[14]=0x00;
buf[15]=0x20;
buf[16]=0x02;
buf[17]=0x00;
buf[18]=0x20;
buf[19]=0x02;
buf[20]=0x00;
buf[21]=0x20;
buf[22]=0x02;
buf[23]=0x00;
buf[24]=0x20;
buf[25]=0x02;
buf[26]=0x00;
buf[27]=0x20;
buf[28]=0x02;
buf[29]=0x00;
buf[30]=0x20;
buf[31]=0x02;
buf[32]=0x00;
buf[33]=0x20;
buf[34]=0x02;
buf[35]=0x00;
buf[36]=0x20;
buf[37]=0x02;
buf[38]=0x00;
buf[39]=0x20;
buf[40]=0x02;
buf[41]=0x00;
buf[42]=0x20;
buf[43]=0x02;
buf[44]=0x00;
buf[45]=0x20;
buf[46]=0x02;
buf[47]=0x02;
buf[48]=0x08;
buf[49]=0x00;
buf[50]=0x80;
buf[51]=0x08;
buf[52]=0x00;
buf[53]=0x80;
buf[54]=0x08;
buf[55]=0x00;
buf[56]=0x80;
buf[57]=0x08;
buf[58]=0x00;
buf[59]=0x80;
buf[60]=0x08;
buf[61]=0x00;
buf[62]=0x80;
buf[63]=0x08;
buf[64]=0x00;
buf[65]=0x80;
buf[66]=0x08;
buf[67]=0x00;
buf[68]=0x80;
buf[69]=0x08;
buf[70]=0x00;
buf[71]=0x80;
buf[72]=0x08;
buf[73]=0x00;
buf[74]=0x80;
buf[75]=0x08;
buf[76]=0x00;
buf[77]=0x80;
buf[78]=0x08;
buf[79]=0x00;
buf[80]=0x80;
buf[81]=0x08;
buf[82]=0x00;
buf[83]=0x80;
buf[84]=0x08;
buf[85]=0x00;
buf[86]=0x80;
buf[87]=0x08;
buf[88]=0x00;
buf[89]=0x80;
buf[90]=0x08;
buf[91]=0x00;
buf[92]=0x80;
buf[93]=0x08;
buf[94]=0x00;
buf[95]=0x80;
buf[96]=0x82;
buf[97]=0x00;
buf[98]=0x20;
buf[99]=0x02;
buf[100]=0x00;
buf[101]=0x20;
buf[102]=0x02;
buf[103]=0x00;
buf[104]=0x20;
buf[105]=0x02;
buf[106]=0x00;
buf[107]=0x20;
buf[108]=0x02;
buf[109]=0x00;
buf[110]=0x20;
buf[111]=0x02;
buf[112]=0x00;
buf[113]=0x20;
buf[114]=0x02;
buf[115]=0x00;
buf[116]=0x20;
buf[117]=0x02;
buf[118]=0x00;
buf[119]=0x20;
buf[120]=0x02;
buf[121]=0x00;
buf[122]=0x20;
buf[123]=0x02;
buf[124]=0x00;
buf[125]=0x20;
buf[126]=0x02;
buf[127]=0x00;
buf[128]=0x20;
buf[129]=0x02;
buf[130]=0x00;
buf[131]=0x20;
buf[132]=0x02;
buf[133]=0x00;
buf[134]=0x20;
buf[135]=0x02;
buf[136]=0x00;
buf[137]=0x20;
buf[138]=0x02;
buf[139]=0x00;
buf[140]=0x20;
buf[141]=0x02;
buf[142]=0x00;
buf[143]=0x20;
buf[144]=0x20;
buf[145]=0x80;
buf[146]=0x08;
buf[147]=0x00;
buf[148]=0x80;
buf[149]=0x08;
buf[150]=0x00;
buf[151]=0x80;
buf[152]=0x08;
buf[153]=0x00;
buf[154]=0x80;
buf[155]=0x08;
buf[156]=0x00;
buf[157]=0x80;
buf[158]=0x08;
buf[159]=0x00;
buf[160]=0x80;
buf[161]=0x08;
buf[162]=0x00;
buf[163]=0x80;
buf[164]=0x08;
buf[165]=0x00;
buf[166]=0x80;
buf[167]=0x08;
buf[168]=0x00;
buf[169]=0x80;
buf[170]=0x08;
buf[171]=0x00;
buf[172]=0x80;
buf[173]=0x08;
buf[174]=0x00;
buf[175]=0x80;
buf[176]=0x08;
buf[177]=0x00;
buf[178]=0x80;
buf[179]=0x08;
buf[180]=0x00;
buf[181]=0x80;
buf[182]=0x08;
buf[183]=0x00;
buf[184]=0x80;
buf[185]=0x08;
buf[186]=0x00;
buf[187]=0x80;
buf[188]=0x08;
buf[189]=0x00;
buf[190]=0x80;
buf[191]=0x08;
buf[192]=0x08;
buf[193]=0x20;
buf[194]=0x02;
buf[195]=0x00;
buf[196]=0x20;
buf[197]=0x02;
buf[198]=0x00;
buf[199]=0x20;
buf[200]=0x02;
buf[201]=0x00;
buf[202]=0x20;
buf[203]=0x02;
buf[204]=0x00;
buf[205]=0x20;
buf[206]=0x02;
buf[207]=0x00;
buf[208]=0x20;
buf[209]=0x02;
buf[210]=0x00;
buf[211]=0x20;
buf[212]=0x02;
buf[213]=0x00;
buf[214]=0x20;
buf[215]=0x02;
buf[216]=0x00;
buf[217]=0x20;
buf[218]=0x02;
buf[219]=0x00;
buf[220]=0x20;
buf[221]=0x02;
buf[222]=0x00;
buf[223]=0x20;
buf[224]=0x02;
buf[225]=0x00;
buf[226]=0x20;
buf[227]=0x02;
buf[228]=0x00;
buf[229]=0x20;
buf[230]=0x02;
buf[231]=0x00;
buf[232]=0x20;
buf[233]=0x02;
buf[234]=0x00;
buf[235]=0x20;
buf[236]=0x02;
buf[237]=0x00;
buf[238]=0x20;
buf[239]=0x02;
buf[240]=0x02;
buf[241]=0x08;
buf[242]=0x00;
buf[243]=0x80;
buf[244]=0x08;
buf[245]=0x00;
buf[246]=0x80;
buf[247]=0x08;
buf[248]=0x00;
buf[249]=0x80;
buf[250]=0x08;
buf[251]=0x00;
buf[252]=0x80;
buf[253]=0x08;
buf[254]=0x00;
buf[255]=0x80;
buf[256]=0x08;
buf[257]=0x00;
buf[258]=0x80;
buf[259]=0x08;
buf[260]=0x00;
buf[261]=0x80;
buf[262]=0x08;
buf[263]=0x00;
buf[264]=0x80;
buf[265]=0x08;
buf[266]=0x00;
buf[267]=0x80;
buf[268]=0x08;
buf[269]=0x00;
buf[270]=0x80;
buf[271]=0x08;
buf[272]=0x00;
buf[273]=0x80;
buf[274]=0x08;
buf[275]=0x00;
buf[276]=0x80;
buf[277]=0x08;
buf[278]=0x00;
buf[279]=0x80;
buf[280]=0x08;
buf[281]=0x00;
buf[282]=0x80;
buf[283]=0x08;
buf[284]=0x00;
buf[285]=0x80;
buf[286]=0x08;
buf[287]=0x00;
buf[288]=0x80;
buf[289]=0x82;
buf[290]=0x00;
buf[291]=0x20;
buf[292]=0x02;
buf[293]=0x00;
buf[294]=0x20;
buf[295]=0x02;
buf[296]=0x00;
buf[297]=0x20;
buf[298]=0x02;
buf[299]=0x00;
buf[300]=0x20;
buf[301]=0x02;
buf[302]=0x00;
buf[303]=0x20;
buf[304]=0x02;
buf[305]=0x00;
buf[306]=0x20;
buf[307]=0x02;
buf[308]=0x00;
buf[309]=0x20;
buf[310]=0x02;
buf[311]=0x00;
buf[312]=0x20;
buf[313]=0x02;
buf[314]=0x00;
buf[315]=0x20;
buf[316]=0x02;
buf[317]=0x00;
buf[318]=0x20;
buf[319]=0x02;
buf[320]=0x00;
buf[321]=0x20;
buf[322]=0x02;
buf[323]=0x00;
buf[324]=0x20;
buf[325]=0x02;
buf[326]=0x00;
buf[327]=0x20;
buf[328]=0x02;
buf[329]=0x00;
buf[330]=0x20;
buf[331]=0x02;
buf[332]=0x00;
buf[333]=0x20;
buf[334]=0x02;
buf[335]=0x00;
buf[336]=0x20;
buf[337]=0x20;
buf[338]=0x80;
buf[339]=0x08;
buf[340]=0x00;
buf[341]=0x80;
buf[342]=0x08;
buf[343]=0x00;
buf[344]=0x80;
buf[345]=0x08;
buf[346]=0x00;
buf[347]=0x80;
buf[348]=0x08;
buf[349]=0x00;
buf[350]=0x80;
buf[351]=0x08;
buf[352]=0x00;
buf[353]=0x80;
buf[354]=0x08;
buf[355]=0x00;
buf[356]=0x80;
buf[357]=0x08;
buf[358]=0x00;
buf[359]=0x80;
buf[360]=0x08;
buf[361]=0x00;
buf[362]=0x80;
buf[363]=0x08;
buf[364]=0x00;
buf[365]=0x80;
buf[366]=0x08;
buf[367]=0x00;
buf[368]=0x80;
buf[369]=0x08;
buf[370]=0x00;
buf[371]=0x80;
buf[372]=0x08;
buf[373]=0x00;
buf[374]=0x80;
buf[375]=0x08;
buf[376]=0x00;
buf[377]=0x80;
buf[378]=0x08;
buf[379]=0x00;
buf[380]=0x80;
buf[381]=0x08;
buf[382]=0x00;
buf[383]=0x80;
buf[384]=0x08;
buf[385]=0x08;
buf[386]=0x20;
buf[387]=0x02;
buf[388]=0x00;
buf[389]=0x20;
buf[390]=0x02;
buf[391]=0x00;
buf[392]=0x20;
buf[393]=0x02;
buf[394]=0x00;
buf[395]=0x20;
buf[396]=0x02;
buf[397]=0x00;
buf[398]=0x20;
buf[399]=0x02;
buf[400]=0x00;
buf[401]=0x20;
buf[402]=0x02;
buf[403]=0x00;
buf[404]=0x20;
buf[405]=0x02;
buf[406]=0x00;
buf[407]=0x20;
buf[408]=0x02;
buf[409]=0x00;
buf[410]=0x20;
buf[411]=0x02;
buf[412]=0x00;
buf[413]=0x20;
buf[414]=0x02;
buf[415]=0x00;
buf[416]=0x20;
buf[417]=0x02;
buf[418]=0x00;
buf[419]=0x20;
buf[420]=0x02;
buf[421]=0x00;
buf[422]=0x20;
buf[423]=0x02;
buf[424]=0x00;
buf[425]=0x20;
buf[426]=0x02;
buf[427]=0x00;
buf[428]=0x20;
buf[429]=0x02;
buf[430]=0x00;
buf[431]=0x20;
buf[432]=0x0f;
buf[433]=0x02;

  uint32_t *gpio;
  int fd,retval;
  
  gpio = SetupGPIO();
  fd = SetupSPI(gpio,0);

  struct spi_ioc_transfer transfer = {
    .tx_buf = (unsigned long)buf,
    .rx_buf = (unsigned long)buf,
    .len = 434,
    .delay_usecs = 0,
    .speed_hz = 15000000,
    .bits_per_word = 8,
    .tx_nbits = 1,
    .rx_nbits = 1
  };


  //  transfer.len = n;
  retval = ioctl(fd,SPI_IOC_MESSAGE(1),&transfer);

  RelinquishSPI(gpio,fd);
  CleanupGPIO(gpio);  
 
  return 0;
}
